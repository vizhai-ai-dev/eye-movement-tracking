<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Proctoring System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Proctoring System</h1>
            <p class="description">Comprehensive proctoring with face detection and eye tracking.</p>
        </header>

        <div class="content">
            <div class="video-section">
                <div class="video-container">
                    <img id="video-feed" src="" alt="Video feed">
                    <div id="video-placeholder">Video feed will appear here</div>
                </div>

                <div class="controls">
                    <div class="control-group">
                        <h3>Face Detection</h3>
                        <button id="face-start-button">Start Face Detection</button>
                        <button id="face-stop-button" disabled>Stop Face Detection</button>
                    </div>
                    <div class="control-group">
                        <h3>Eye Tracking</h3>
                        <button id="eye-start-button">Start Eye Tracking</button>
                        <button id="eye-stop-button" disabled>Stop Eye Tracking</button>
                        <button id="calibrate-button" disabled>Calibrate</button>
                    </div>
                </div>
            </div>

            <div class="status-panels">
                <div class="status-panel">
                    <h2>Face Detection Metrics</h2>
                    <div class="status-item">
                        <h3>Face Count:</h3>
                        <div id="face-count" class="status-value">0</div>
                    </div>
                    <div class="status-item">
                        <h3>Status:</h3>
                        <div id="face-status" class="status-value">Not running</div>
                    </div>
                    <div class="status-item">
                        <h3>Suspicious Duration:</h3>
                        <div id="suspicious-duration" class="status-value">0s</div>
                    </div>
                </div>

                <div class="status-panel">
                    <h2>Eye Tracking Metrics</h2>
                    <div class="status-item">
                        <h3>Tracking Status:</h3>
                        <div id="tracking-status" class="status-value">Inactive</div>
                    </div>
                    <div class="status-item">
                        <h3>Calibration:</h3>
                        <div id="calibration-status" class="status-value not-calibrated">Not Calibrated</div>
                    </div>
                    <div class="status-item">
                        <h3>Gaze Direction:</h3>
                        <div id="gaze-direction" class="status-value">Unknown</div>
                    </div>
                    <div class="status-item">
                        <h3>Off-screen Time:</h3>
                        <div id="off-screen-ratio" class="status-value">0%</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="api-docs">
            <h2>API Documentation</h2>
            <p>This application provides the following endpoints:</p>
            <div class="api-sections">
                <div class="api-section">
                    <h3>Face Detection API</h3>
                    <ul>
                        <li><span class="api-endpoint">/detect</span> - Process uploaded image</li>
                        <li><span class="api-endpoint">/video_feed</span> - Live video stream</li>
                        <li><span class="api-endpoint">/ws</span> - WebSocket updates</li>
                    </ul>
                </div>
                <div class="api-section">
                    <h3>Eye Tracking API</h3>
                    <ul>
                        <li><span class="api-endpoint">/api/start</span> - Start tracking</li>
                        <li><span class="api-endpoint">/api/stop</span> - Stop tracking</li>
                        <li><span class="api-endpoint">/api/status</span> - Get status</li>
                        <li><span class="api-endpoint">/api/start_calibration</span> - Start calibration</li>
                        <li><span class="api-endpoint">/api/reset_calibration</span> - Reset calibration</li>
                    </ul>
                </div>
            </div>
        </div>

        <footer>
            <p>AI Proctoring System &copy; 2024 | Using computer vision for comprehensive proctoring</p>
        </footer>
    </div>

    <div id="message" style="display: none;"></div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html> 
